generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Branch {
  name  String @id @unique
  items Item[]
  sub_branches Sub_branch[]

  @@map("branch")
}

model Sub_branch {
  name String @id @unique 
  branch_name String
  branch      Branch   @relation(fields: [branch_name], references: [name])
  items Item[]
  @@map("sub_branch")
}

model Item {
  name            String   @id @unique
  brand           String
  stock           Int?
  sub_branch_name String
  sub_branch      Sub_branch   @relation(fields: [sub_branch_name], references: [name])
  branch_name     String
  branch          Branch   @relation(fields: [branch_name], references: [name])
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt

  @@map("item")
}
